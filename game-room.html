<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Room - Mafia</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="h-screen overflow-hidden flex flex-col">
    <!-- Game Header -->
    <header class="p-4 bg-[#111] border-b border-gray-800 flex justify-between items-center">
        <div class="flex items-center gap-4">
            <h1 class="text-3xl title-font text-blood tracking-widest">MAFIA</h1>
            <div class="h-6 w-[2px] bg-gray-700"></div>
            <div id="room-info" class="flex items-center gap-2 cursor-pointer group" title="Click to copy room code">
                <span class="text-xs text-gray-500 uppercase">Room:</span>
                <span id="display-room-code" class="font-mono font-bold text-white group-hover:text-blood transition">-----</span>
                <svg class="w-3 h-3 text-gray-500 group-hover:text-blood" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>
            </div>
            <div class="h-6 w-[2px] bg-gray-700"></div>
            <div id="game-status" class="flex items-center gap-2">
                <span class="w-3 h-3 rounded-full bg-yellow-500 animate-pulse"></span>
                <span id="phase-text" class="font-bold uppercase tracking-widest text-sm">Waiting for players...</span>
            </div>
        </div>
        <div class="flex items-center gap-6">
            <div class="text-right">
                <p class="text-xs text-gray-500 uppercase">Your Role</p>
                <p id="player-role" class="font-bold text-blood">DETECTIVE</p>
            </div>
            <div class="h-10 w-10 rounded-full bg-blood flex items-center justify-center font-bold">JD</div>
        </div>
    </header>

    <main class="flex-1 flex overflow-hidden">
        <!-- Players Grid -->
        <section class="flex-1 p-6 overflow-y-auto">
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" id="players-grid">
                <!-- Players will be injected here by JS -->
            </div>
        </section>

        <!-- Sidebar (Chat & Log) -->
        <aside class="w-96 bg-[#111] border-l border-gray-800 flex flex-col">
            <!-- Tabs -->
            <div class="flex border-b border-gray-800">
                <button class="flex-1 py-3 text-sm font-bold border-b-2 border-blood">CHAT</button>
                <button class="flex-1 py-3 text-sm font-bold text-gray-500 hover:text-white">LOG</button>
            </div>

            <!-- Chat Area -->
            <div class="chat-container overflow-y-auto p-4 space-y-4 text-sm" id="chat-messages">
                <div class="bg-[#1a1a1a] p-3 rounded">
                    <span class="text-blood font-bold">System:</span>
                    <span class="text-gray-400">Welcome to the game. Day 1 has begun. Discuss and find the killer!</span>
                </div>
                <!-- Chat messages will be injected here -->
            </div>

            <!-- Input Area -->
            <div class="p-4 border-t border-gray-800">
                <form id="chat-form" class="flex gap-2">
                    <input type="text" placeholder="Type your message..." class="flex-1 bg-[#0a0a0a] border border-gray-700 rounded px-3 py-2 focus:outline-none focus:border-blood">
                    <button type="submit" class="bg-blood px-4 py-2 rounded font-bold hover:bg-red-700">Send</button>
                </form>
            </div>
        </aside>
    </main>

    <!-- Role Action Overlay (Visible only at night or for specific roles) -->
    <div id="action-bar" class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-[#1a1a1a] border-2 border-blood p-4 rounded-lg shadow-2xl flex gap-4 items-center hidden">
        <p class="font-bold text-sm">NIGHT ACTION:</p>
        <button id="action-btn" class="bg-blood px-6 py-2 rounded font-bold hover:bg-red-700 transition">INVESTIGATE PLAYER</button>
    </div>

    <script src="https://js.pusher.com/8.0.1/pusher.min.js"></script>
    <script src="game-room.js"></script>
</body>
</html>
